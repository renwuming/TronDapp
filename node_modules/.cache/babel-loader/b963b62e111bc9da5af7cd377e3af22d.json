{"ast":null,"code":"import _regeneratorRuntime from \"/Users/wkorz/work/tron/RedPacket/tron-test/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/wkorz/work/tron/RedPacket/tron-test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/wkorz/work/tron/RedPacket/tron-test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wkorz/work/tron/RedPacket/tron-test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wkorz/work/tron/RedPacket/tron-test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wkorz/work/tron/RedPacket/tron-test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wkorz/work/tron/RedPacket/tron-test/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wkorz/work/tron/RedPacket/tron-test/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport * as artifact from './contracts/RedPacket';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.getUser =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var result_0, usercreate, listcreate, i, userget, listget, _i;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.contract.getUser().call();\n\n            case 2:\n              result_0 = _context.sent;\n              console.log(result_0);\n              usercreate = result_0[1].length;\n              listcreate = [];\n\n              for (i = 0; i < usercreate; i++) {\n                listcreate.push(JSON.parse(result_0[1][i]));\n              }\n\n              userget = result_0[2].length;\n              listget = [];\n\n              for (_i = 0; _i < userget; _i++) {\n                listget.push(JSON.parse(result_0[2][_i]));\n              }\n\n              _this.setState({\n                getUserKey: JSON.parse(result_0[0])\n              });\n\n              _this.setState({\n                getUserCreate: listcreate.join(\",\")\n              });\n\n              _this.setState({\n                getUserGet: listget.join(\",\")\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.createPacket =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var tron, result_0;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              tron = 10 * 1000000;\n              _context2.next = 3;\n              return _this.contract.createPacket(10, 2, \"true\", \"true\", \"tron\", \"hello\").send({\n                feeLimit: 100000000,\n                callValue: tron,\n                shouldPollResponse: true\n              });\n\n            case 3:\n              result_0 = _context2.sent;\n              console.log(result_0);\n\n              _this.setState({\n                createPacket: JSON.stringify(result_0)\n              });\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    _this.getPacket =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var result_0;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _this.contract.getPacket(2, \"tron\").send();\n\n            case 2:\n              result_0 = _context3.sent;\n              console.log(result_0);\n\n              _this.setState({\n                getPacket: JSON.stringify(result_0)\n              });\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n    _this.getPacketstruct =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee4() {\n      var tron, result_0;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              tron = 1000000;\n              _context4.next = 3;\n              return _this.contract.getPacketstruct(1).call();\n\n            case 3:\n              result_0 = _context4.sent;\n              console.log(result_0);\n\n              _this.setState({\n                getPacketstructAddress: result_0[1]\n              });\n\n              _this.setState({\n                getPacketstructTime: JSON.parse(result_0[2])\n              });\n\n              _this.setState({\n                getPacketstructMoney: JSON.parse(result_0[3]) / tron\n              });\n\n              _this.setState({\n                getPacketstructAllcount: JSON.parse(result_0[4])\n              });\n\n              _this.setState({\n                getPacketstructCount: JSON.parse(result_0[5])\n              });\n\n              _this.setState({\n                getPacketstructAve: String(result_0[6])\n              });\n\n              _this.setState({\n                getPacketstructCrypto: String(result_0[7])\n              });\n\n              _this.setState({\n                getPacketstructFinish: String(result_0[8])\n              });\n\n              _this.setState({\n                getPacketstructRecords: JSON.parse(result_0[9])\n              });\n\n              _this.setState({\n                getPacketstructBalance: JSON.parse(result_0[10]) / tron\n              });\n\n              _this.setState({\n                getPacketstructContent: result_0[11]\n              });\n\n            case 16:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n    _this.getRecord =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      var tron, result_0;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              tron = 1000000;\n              _context5.next = 3;\n              return _this.contract.getRecord(1).call();\n\n            case 3:\n              result_0 = _context5.sent;\n              console.log(result_0);\n\n              _this.setState({\n                getRecordId: JSON.parse(result_0[0])\n              });\n\n              _this.setState({\n                getRecordOwner: result_0[1]\n              });\n\n              _this.setState({\n                getRecordTime: JSON.parse(result_0[2])\n              });\n\n              _this.setState({\n                getRecordMoney: JSON.parse(result_0[3]) / tron\n              });\n\n            case 9:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n    _this.getPacketkey =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee6() {\n      var result_0;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _this.contract.getPacketkey().call();\n\n            case 2:\n              result_0 = _context6.sent;\n              console.log(result_0);\n\n              _this.setState({\n                getPacketkey: JSON.parse(result_0)\n              });\n\n            case 5:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, this);\n    }));\n    _this.getFinishkey =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee7() {\n      var result_0, finishpacket, i, packet;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return _this.contract.getFinishkey().call();\n\n            case 2:\n              result_0 = _context7.sent;\n              console.log(result_0);\n              finishpacket = [];\n              i = 1;\n\n            case 6:\n              if (!(i < result_0)) {\n                _context7.next = 16;\n                break;\n              }\n\n              _context7.t0 = JSON;\n              _context7.next = 10;\n              return _this.contract.getFinishpacket(i).call();\n\n            case 10:\n              _context7.t1 = _context7.sent;\n              packet = _context7.t0.parse.call(_context7.t0, _context7.t1);\n              finishpacket.push(packet);\n\n            case 13:\n              i++;\n              _context7.next = 6;\n              break;\n\n            case 16:\n              _this.setState({\n                getFinishkey: JSON.parse(result_0)\n              });\n\n            case 17:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n    _this.getAllpacket =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee8() {\n      var result_0, packet, i, result_1, _i2, j;\n\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.t0 = JSON;\n              _context8.next = 3;\n              return _this.contract.getPacketkey().call();\n\n            case 3:\n              _context8.t1 = _context8.sent;\n              result_0 = _context8.t0.parse.call(_context8.t0, _context8.t1);\n              console.log(result_0);\n              packet = [];\n\n              for (i = 1; i < result_0; i++) {\n                packet.push(i);\n              }\n\n              _context8.t2 = JSON;\n              _context8.next = 11;\n              return _this.contract.getFinishkey().call();\n\n            case 11:\n              _context8.t3 = _context8.sent;\n              result_1 = _context8.t2.parse.call(_context8.t2, _context8.t3);\n              console.log(result_1);\n              _i2 = 1;\n\n            case 15:\n              if (!(_i2 < result_1)) {\n                _context8.next = 25;\n                break;\n              }\n\n              _context8.t4 = JSON;\n              _context8.next = 19;\n              return _this.contract.getFinishpacket(_i2).call();\n\n            case 19:\n              _context8.t5 = _context8.sent;\n              j = _context8.t4.parse.call(_context8.t4, _context8.t5);\n              packet[j - 1] = -1;\n\n            case 22:\n              _i2++;\n              _context8.next = 15;\n              break;\n\n            case 25:\n              _this.setState({\n                getAllpacket: packet.join(\",\")\n              });\n\n            case 26:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }));\n    window.tronWeb.setDefaultBlock('latest');\n    _this.contract = null;\n    _this.state = {\n      address: null,\n      balance: null,\n      contract: null,\n      tokenBalance: null,\n      result_0: null,\n      result_1: null,\n      result_2: null\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee9() {\n        var tronWeb, address;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                tronWeb = window.tronWeb;\n                console.log('address', tronWeb.defaultAddress.base58);\n                this.setState({\n                  address: tronWeb.defaultAddress.base58\n                });\n                address = tronWeb.address.fromHex(artifact.networks['*'].address);\n                console.log(artifact.abi, artifact.networks['*'].address, address);\n                this.contract = tronWeb.contract(artifact.abi, address);\n                console.log(this.contract);\n\n              case 7:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }() //获取未领取的红包列表\n    //我的记录\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"current address\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, this.state.address), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"getPacketkey\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, this.state.getPacketkey), React.createElement(\"button\", {\n        onClick: this.getPacketkey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"getPacketkey\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"getFinishkey\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.state.getFinishkey), React.createElement(\"button\", {\n        onClick: this.getFinishkey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"getFinishkey\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"getAllpacket\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, this.state.getAllpacket), React.createElement(\"button\", {\n        onClick: this.getAllpacket,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"getAllpacket\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"getUser\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, this.state.getUserKey), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"\\u5DF2\\u53D1\\u7684\\u7EA2\\u5305\\uFF1A\", this.state.getUserCreate), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"\\u5DF2\\u9886\\u53D6\\u7684\\u7EA2\\u5305\\uFF1A\", this.state.getUserGet), React.createElement(\"button\", {\n        onClick: this.getUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"getUser\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"createPacket\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, this.state.createPacket), React.createElement(\"button\", {\n        onClick: this.createPacket,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"createPacket\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"getPacket\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, this.state.getPacket), React.createElement(\"button\", {\n        onClick: this.getPacket,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"getPacket\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"getPacketstruct\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, this.state.getPacketstructAddress, \" \\u53D1\\u9001\\u7684\\u7EA2\\u5305\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"\\u7EA2\\u5305\\u795D\\u798F\\uFF1A\", this.state.getPacketstructContent), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"\\u521B\\u5EFA\\u65F6\\u95F4 \", this.state.getPacketstructTime), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"\\u5269\\u4F59\\u91D1\\u989D \", this.state.getPacketstructBalance, \" / \\u603B\\u91D1\\u989D \", this.state.getPacketstructMoney), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"\\u5DF2\\u7ECF\\u9886\\u53D6\\u7684\\u4EFD\\u6570 \", this.state.getPacketstructCount, \" / \\u603B\\u4EFD\\u6570\", this.state.getPacketstructAllcount), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"\\u666E\\u901A\\u7EA2\\u5305/\\u624B\\u6C14\\u7EA2\\u5305\", this.state.getPacketstructAve), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"\\u662F\\u5426\\u9700\\u8981\\u53E3\\u4EE4\", this.state.getPacketstructCrypto), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"\\u662F\\u5426\\u62A2\\u5149\", this.state.getPacketstructFinish), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"\\u7EA2\\u5305\\u8BB0\\u5F55\", this.state.getPacketstructRecords), React.createElement(\"button\", {\n        onClick: this.getPacketstruct,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"getPacketstruct\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, \"getRecord\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"\\u7B2C\", this.state.getRecordId, \"\\u4E2A\\u9886\\u53D6\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"\\u9886\\u53D6\\u8005\\uFF1A\", this.state.getRecordOwner), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"\\u9886\\u53D6\\u65F6\\u95F4\\uFF1A\", this.state.getRecordTime), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"\\u9886\\u53D6\\u91D1\\u989D\\uFF1A\", this.state.getRecordMoney), React.createElement(\"button\", {\n        onClick: this.getRecord,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"getRecord\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/wkorz/work/tron/RedPacket/tron-test/src/App.js"],"names":["React","Component","artifact","App","props","getUser","contract","call","result_0","console","log","usercreate","length","listcreate","i","push","JSON","parse","userget","listget","setState","getUserKey","getUserCreate","join","getUserGet","createPacket","tron","send","feeLimit","callValue","shouldPollResponse","stringify","getPacket","getPacketstruct","getPacketstructAddress","getPacketstructTime","getPacketstructMoney","getPacketstructAllcount","getPacketstructCount","getPacketstructAve","String","getPacketstructCrypto","getPacketstructFinish","getPacketstructRecords","getPacketstructBalance","getPacketstructContent","getRecord","getRecordId","getRecordOwner","getRecordTime","getRecordMoney","getPacketkey","getFinishkey","finishpacket","getFinishpacket","packet","getAllpacket","result_1","j","window","tronWeb","setDefaultBlock","state","address","balance","tokenBalance","result_2","defaultAddress","base58","fromHex","networks","abi"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\nimport * as artifact from './contracts/RedPacket'\n\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n\n        window.tronWeb.setDefaultBlock('latest');\n\n        this.contract = null;\n        this.state = {\n            address: null,\n            balance: null,\n            contract: null,\n            tokenBalance: null,\n            result_0: null,\n            result_1: null,\n            result_2: null,\n            \n        }\n    }\n\n    async componentDidMount() {\n\n        let tronWeb = window.tronWeb;\n        console.log('address', tronWeb.defaultAddress.base58)\n        this.setState({address: tronWeb.defaultAddress.base58});\n        let address = tronWeb.address.fromHex(artifact.networks['*'].address);\n        console.log(artifact.abi, artifact.networks['*'].address, address)\n        this.contract = tronWeb.contract(artifact.abi, address);\n        console.log(this.contract);\n    }\n\n    //获取未领取的红包列表\n\n    //我的记录\n    getUser = async () => {\n        let result_0 = await this.contract.getUser().call()\n        console.log(result_0)\n        let usercreate = result_0[1].length\n        let listcreate = []\n        for(let i = 0; i < usercreate; i++) {\n            listcreate.push(JSON.parse(result_0[1][i]))\n        }\n        let userget = result_0[2].length\n        let listget = []\n        for(let i = 0; i < userget; i++) {\n            listget.push(JSON.parse(result_0[2][i]))\n        }\n        this.setState({getUserKey:JSON.parse(result_0[0])})\n        this.setState({getUserCreate:listcreate.join(\",\")})\n        this.setState({getUserGet:listget.join(\",\")})\n    };\n\n\n    //创建红包\n    createPacket = async () => {\n        let tron = 10*1000000; \n        let result_0 = await this.contract.createPacket(10, 2, \"true\",\"true\",\"tron\",\"hello\").send({\n            feeLimit:100000000,\n            callValue:tron,\n            shouldPollResponse:true\n        })\n        console.log(result_0)\n        this.setState({createPacket:JSON.stringify(result_0)})\n    };\n\n    //抢红包\n    getPacket = async () => {\n        let result_0 = await this.contract.getPacket(2,\"tron\").send()\n        console.log(result_0)\n        this.setState({getPacket:JSON.stringify(result_0)})\n    };\n\n    //获取红包信息\n\n    getPacketstruct = async () => {\n        let tron = 1000000\n        let result_0 = await this.contract.getPacketstruct(1).call()\n        console.log(result_0)\n        this.setState({getPacketstructAddress:result_0[1]})\n        this.setState({getPacketstructTime:JSON.parse(result_0[2])})\n        this.setState({getPacketstructMoney:JSON.parse(result_0[3]) / tron})\n        this.setState({getPacketstructAllcount:JSON.parse(result_0[4])})\n        this.setState({getPacketstructCount:JSON.parse(result_0[5])})\n        this.setState({getPacketstructAve:String(result_0[6])})\n        this.setState({getPacketstructCrypto:String(result_0[7])})\n        this.setState({getPacketstructFinish:String(result_0[8])})\n        this.setState({getPacketstructRecords:JSON.parse(result_0[9])})\n        this.setState({getPacketstructBalance:JSON.parse(result_0[10]) / tron})\n        this.setState({getPacketstructContent:result_0[11]})\n    };\n\n    //获取记录信息\n    getRecord = async () => {\n        let tron = 1000000\n        let result_0 = await this.contract.getRecord(1).call()\n        console.log(result_0)\n        this.setState({getRecordId:JSON.parse(result_0[0])})\n        this.setState({getRecordOwner:result_0[1]})\n        this.setState({getRecordTime:JSON.parse(result_0[2])})\n        this.setState({getRecordMoney:(JSON.parse(result_0[3]) / tron)})\n    };\n\n    //获取所有红包key\n    getPacketkey = async () => {\n        let result_0 = await this.contract.getPacketkey().call()\n        console.log(result_0)\n        this.setState({getPacketkey:JSON.parse(result_0)})\n    };\n\n\n    //获取已抢光的红包key\n    getFinishkey = async () => {\n        let result_0 = await this.contract.getFinishkey().call()\n        console.log(result_0)\n        let finishpacket = [];\n        for(let i = 1; i< result_0;i++){\n            let packet = JSON.parse(await this.contract.getFinishpacket(i).call())\n            finishpacket.push(packet)\n        }\n        this.setState({getFinishkey:JSON.parse(result_0)})\n    };\n\n    //获取有效的红包key\n    getAllpacket = async () => {\n        let result_0 = JSON.parse(await this.contract.getPacketkey().call())\n        console.log(result_0)\n        let packet = [];\n        for(let i = 1; i< result_0;i++){\n            packet.push(i);\n        }\n        let result_1 = JSON.parse(await this.contract.getFinishkey().call())\n        console.log(result_1)\n        for(let i = 1; i< result_1;i++){\n            let j = JSON.parse(await this.contract.getFinishpacket(i).call())\n            packet[j-1] = -1;\n        }\n        this.setState({getAllpacket:packet.join(\",\")})\n    };\n\n\n    render() {\n        return (\n            <div className=\"App\">\n                <div>\n                    <p>current address</p>\n                    <p>{this.state.address}</p>\n                    <hr></hr>\n                </div>\n\n                <div>\n                    <p>getPacketkey</p>\n                    <p>{this.state.getPacketkey}</p>\n                    <button onClick={this.getPacketkey}>getPacketkey</button>\n                    <hr></hr>\n                </div>\n\n                <div>\n                    <p>getFinishkey</p>\n                    <p>{this.state.getFinishkey}</p>\n                    <button onClick={this.getFinishkey}>getFinishkey</button>\n                    <hr></hr>\n                </div>\n\n                <div>\n                    <p>getAllpacket</p>\n                    <p>{this.state.getAllpacket}</p>\n                    <button onClick={this.getAllpacket}>getAllpacket</button>\n                    <hr></hr>\n                </div>\n\n                <div>\n                    <p>getUser</p>\n                    <p>{this.state.getUserKey}</p>\n                    <p>已发的红包：{this.state.getUserCreate}</p>\n                    <p>已领取的红包：{this.state.getUserGet}</p>\n                    <button onClick={this.getUser}>getUser</button>\n                    <hr></hr>\n                </div>\n\n                <div>\n                    <p>createPacket</p>\n                    <p>{this.state.createPacket}</p>\n                    <button onClick={this.createPacket}>createPacket</button>\n                    <hr></hr>\n                </div>\n\n                <div>\n                    <p>getPacket</p>\n                    <p>{this.state.getPacket}</p>\n                    <button onClick={this.getPacket}>getPacket</button>\n                    <hr></hr>\n                </div>\n\n                <div>\n                    <p>getPacketstruct</p>\n                    <p>{this.state.getPacketstructAddress} 发送的红包</p>\n                    <p>红包祝福：{this.state.getPacketstructContent}</p>\n                    <p>创建时间 {this.state.getPacketstructTime}</p>\n                    <p>剩余金额 {this.state.getPacketstructBalance} / 总金额 {this.state.getPacketstructMoney}</p>\n                    <p>已经领取的份数 {this.state.getPacketstructCount} / 总份数{this.state.getPacketstructAllcount}</p>\n                    <p>普通红包/手气红包{this.state.getPacketstructAve}</p>\n                    <p>是否需要口令{this.state.getPacketstructCrypto}</p>\n                    <p>是否抢光{this.state.getPacketstructFinish}</p>\n                    <p>红包记录{this.state.getPacketstructRecords}</p>\n                    <button onClick={this.getPacketstruct}>getPacketstruct</button>\n                    <hr></hr>\n                </div>\n\n                <div>\n                    <p>getRecord</p>\n                    <p>第{this.state.getRecordId}个领取</p>\n                    <p>领取者：{this.state.getRecordOwner}</p>\n                    <p>领取时间：{this.state.getRecordTime}</p>\n                    <p>领取金额：{this.state.getRecordMoney}</p>\n                    <button onClick={this.getRecord}>getRecord</button>\n                    <hr></hr>\n                </div>\n\n\n            </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}